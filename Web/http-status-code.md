# HTTP status code

## HTTP status 코드
- HTTP 요청을 보내면 웹 서버를 요청에 대한 응답을 반환함. 이 응답은 HTTP 상태 코드와 함께 전송됨
- HTTP 상태 코드는 클라이언트가 요청한 HTTP 응답의 성공, 실패 또는 오류를 알려주는 세 자리 숫자로 구성됨
- HTTP 상태 코드는 개발자가 웹 애플리케이션을 디버깅할 때 유용한 정보를 제공함. 이를 통해 어떤 문제가 발생했는지 파악하고 적절한 조치 취할 수 있음
- 상태 코드는 크게 5개 범주로 나뉨

### 1xx (Informational)
- 클라이언트의 요청이 처리되고 있음을 나타냄

### 2xx (Successful)
- 클라이언트 요청이 성공적으로 처리되었음을 나타냄

### 3xx (Redirection)
- 클라이언트가 새로운 위치로 이동해야 함을 나타냄

### 4xx (Client Error)
- 클라이언트의 요청에 오류가 있음을 나타냄

### 5xx (Server Error)
- 서버에서 오류가 발생했음을 나타냄

<br/ >
---
<br />

## 자주 사용되는 status code
**200 Ok - 요청 성공**
- GET의 경우 바디에 리소스의 표현이 들어감
- PUT, POST의 경우 바디에 처리 결과가 들어감

**201 Created - 리소스 작성 성공**
- POST, PUT에 대한 응답으로서 반환
- POST의 경우, 새로 작성한 리소스의 URI는 응답 메시지의 Location 헤더에 절대 URI로서 들어감
- PUT의 경우, 클라이언트가 새로운 리소스의 URI를 이미 알고 있으므로 Location 헤더는 들어가지 않음

**301 Moved Permanently - 리소스의 항구적 이동**
- 요청에서 지정한 리소스를 새로운 URI로 이동했다는 의미
- 새로운 URI는 응답의 Location 헤더에 절대 URI로 들어감
- 303과 같이 다른 URI로 클라이언트가 자동 재접속하는 처리를 '리다이렉트'라고 함

**303 See Other - 다른 URI의 참조**
- 리다이렉트에 대한 처리 결과를 다른 URI로 획득
- 전형적으로는 브라우저에서 POST로 리소스 조작한 결과를 GET으로 가져올 때 사용

**400 Bad Request - 요청 오류**
- 요청 구문이나 파라미터가 잘못되었음을 나타냄
- 그 밖에 적절한 클라이언트 에러를 나타내는 코드가 없을 경우에도 사용

**401 Unauthorized - 접근 권한 없음, 인증 실패**
- 적절한 인증 정보 부여 없이 리다이렉트 수행
- 응답의 WWW-Authenticate 헤더에서 클라이언트에 대해 인증방식 전달

**403 Forbidden - 클라이언트가 컨텐츠에 접근할 권리를 가지지 않음**
- 클라이언트의 요청에 대해 접근을 차단
- 401과 다른점은 클라이언트가 누구인지를 서버가 알고있다는 점

**404 Not Found - 리소스 없음**
- 지정한 리소스를 찾을 수 없다는 것을 나타내며 응답 바디에는 그 이유가 들어감

**500 Internal Server Error - 서버 내부 에러**
- 서버측 이상으로 인해 정상적인 응답을 보낼 수 없음을 의미하며 응답 바디에는 이상 이유가 들어감
- 다른 적절한 서버 에러를 나타내는 코드가 없을 경우에도 사용

**503 Service Unavailable - 서비스 정지**
- 점검 등으로 서버에 일시적으로 액세스 할 수 없음을 나타내며 응답 바디에는 이유가 들어감
- 응답의 Retry-After 헤더로 서비스 재개 시기가 대략 몇 십초 후인지 통지 가능함

## 추가 질문
**다운된 웹사이트! SEO에 영향을 미치지 않도록 하기 위해서는 어떻게 해야할까?**
- Google 크롤링의 예
  - Google은 사이트를 크롤링하는 동안 404가 발생하면 일반적으로 페이지가 다시 돌아왔는지 확인하기 위해 다음에 다시 돌아올 때까지 해당 페이지를 검색 결과에서 제외
  - 하지만 특정 페이지에서 404가 반복적으로 발생하면 Google은 결국 재크롤링을 연기하므로 페이지가 검색 결과에 다시 표시되기까지 더 많은 시간이 소요될 수밖에 없음
  - 따라서 이로 인한 순위 하락을 극복하려면 특정 페이지에서 작업할 때마다 **503 상태 코드**를 반환하는 것이 적절
  - 503을 Retry-After 헤더와 함께 반환하면 Google에 몇 분을 기다려야 다시 돌아올 수 있는지 알려주므로 적어도 그 전에 Google이 다시 방문하지 않도록 할 수 있음

<br />
---
<br />

## References
- 웹을 지탱하는 기술(book)
- [HTTP 503: Handling site maintenance correctly for SEO](https://yoast.com/http-503-site-maintenance-seo/)
